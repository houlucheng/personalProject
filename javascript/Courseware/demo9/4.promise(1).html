<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //Promise : 是浏览器新增的内置的API ;为了处理异步的操作；
    //console.log(Promise);
    // Promise 是一个同步的过程；Promise传进的回调函数会立即执行；当回调函数执行完毕，才会去执行下面的任务；
    //Promise 执行必须接受函数作为实参；
    // Promise 的三个状态： pending  fulfilled  rejected;  pending 到成功，从pending到失败状态；如果当前promise状态一旦发生改变，那当前【promise的状态就会凝固；
    let p1 = new Promise(function (reslove,reject) {
        // 当Promise的回调函数中异步成功之后，执行特定的函数；
        // 当前函数中，存放的是异步的操作任务；当异步的操作任务成功之后，会调用then方法中的第一个函数；如果异步操作失败，会默认调用then的第二个函数；
        setTimeout(function () {
            reject();
        },1000);
        console.log(1);
    });
    p1.then(function () {
        console.log("下课");
    },function () {

    });
    //console.log(2);// 先输出1；
    // 定时器是异步的；
   /* setTimeout(function(){
        console.log(3);
    },0);
    console.log(4);*/

   // 如果有两个请求，第二个需要在第一个请求成功之后，才能请求第二个；
    $.ajax({
        url:"aside.json",
        type:"get",
        success:function () {
            $.ajax({
                url:"banner.json",
                type:"get",
                success:function () {
                    $.ajax({

                    });
                }
            })
        }
    });
    let  p1 = new Promise(function (resolve,reject) {
        $.ajax({
            url:"aside.json",
            type:"get",
            success:function () {
               resolve();
            }
        });
    });
    p1.then(function () {
        $.ajax({
            url:"banner.json",
            type:"get",
            success:function () {

            }
        });
    })



</script>



</body>
</html>